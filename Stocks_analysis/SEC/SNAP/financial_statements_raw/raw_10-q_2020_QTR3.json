[{"headers": [["Consolidated Statements of Cash Flows - USD ($) $ in Thousands", "3 Months Ended", "6 Months Ended"], ["Jun. 30, 2020", "Jun. 30, 2019", "Jun. 30, 2020", "Jun. 30, 2019"]], "sections": ["Cash flows from operating activities", "Adjustments to reconcile net loss to net cash used in operating activities:", "Change in operating assets and liabilities, net of effect of acquisitions:", "Cash flows from investing activities", "Cash flows from financing activities", "Supplemental disclosures"], "data": [["Net loss", "$ (325,951)", "$ (255,174)", "$ (631,887)", "$ (565,581)"], ["Depreciation and amortization", "20,925", "22,660", "42,129", "45,979"], ["Stock-based compensation", "186,171", "195,574", "358,220", "358,130"], ["Deferred income taxes", "(2,118)", "291", "(2,512)", "25"], ["Gain on divestiture", "", "(39,883)", "", "(39,883)"], ["Amortization of debt discount and issuance costs", "20,412", "", "31,975", ""], ["Other", "(2,307)", "(1,399)", "8,117", "(3,316)"], ["Accounts receivable, net of allowance", "15,654", "(39,751)", "108,546", "32,119"], ["Prepaid expenses and other current assets", "4,123", "(4,761)", "(8,744)", "(4,490)"], ["Operating lease right-of-use assets", "9,537", "11,809", "18,253", "21,621"], ["Other assets", "108", "2,769", "(1,047)", "2,401"], ["Accounts payable", "2,279", "21,009", "8,013", "24,099"], ["Accrued expenses and other current liabilities", "14,863", "7,735", "32,773", "(6,588)"], ["Operating lease liabilities", "(10,985)", "(16,781)", "(24,979)", "(27,251)"], ["Other liabilities", "735", "113", "872", "768"], ["Net cash used in operating activities", "(66,554)", "(95,789)", "(60,271)", "(161,967)"], ["Purchases of property and equipment", "(15,767)", "(7,633)", "(26,658)", "(19,447)"], ["Proceeds from divestiture, net", "", "73,796", "", "73,796"], ["Non-marketable investments", "(56,341)", "(450)", "(91,841)", "(2,700)"], ["Cash paid for acquisitions, net of cash acquired", "(20,204)", "", "(20,204)", ""], ["Purchases of marketable securities", "(875,873)", "(283,520)", "(1,428,548)", "(809,040)"], ["Sales of marketable securities", "", "77,489", "217,958", "77,489"], ["Maturities of marketable securities", "476,561", "324,033", "1,229,246", "782,660"], ["Other", "(500)", "1,000", "(500)", "1,029"], ["Net cash provided by (used in) investing activities", "(492,124)", "184,715", "(120,547)", "103,787"], ["Proceeds from issuance of convertible notes, net of issuance costs", "988,582", "", "988,582", ""], ["Purchase of capped calls", "(100,000)", "", "(100,000)", ""], ["Proceeds from the exercise of stock options", "20,477", "1,342", "23,607", "6,938"], ["Net cash provided by financing activities", "909,059", "1,342", "912,189", "6,938"], ["Change in cash, cash equivalents, and restricted cash", "350,381", "90,268", "731,371", "(51,242)"], ["Cash, cash equivalents, and restricted cash, beginning of period", "902,250", "247,464", "521,260", "388,974"], ["Cash, cash equivalents, and restricted cash, end of period", "1,252,631", "337,732", "1,252,631", "337,732"], ["Cash paid for income taxes, net", "562", "(399)", "1,370", "(79)"], ["Cash paid for interest", "$ 366", "$ 438", "$ 5,265", "$ 796"]]}, {"headers": [["Consolidated Statements of Operations - USD ($) shares in Thousands, $ in Thousands", "3 Months Ended", "6 Months Ended"], ["Jun. 30, 2020", "Jun. 30, 2019", "Jun. 30, 2020", "Jun. 30, 2019"]], "sections": ["Income Statement [Abstract]", "Costs and expenses:", "Net loss per share attributable to Class A, Class B, and Class C common stockholders (Note 3):", "Weighted average shares used in computation of net loss per share:"], "data": [["Revenue", "$ 454,158", "$ 388,021", "$ 916,636", "$ 708,447"], ["Cost of revenue", "250,454", "215,492", "503,864", "419,259"], ["Research and development", "260,863", "236,199", "499,476", "452,384"], ["Sales and marketing", "132,118", "111,504", "254,323", "209,386"], ["General and administrative", "121,331", "129,644", "255,945", "248,297"], ["Total costs and expenses", "764,766", "692,839", "1,513,608", "1,329,326"], ["Operating loss", "(310,608)", "(304,818)", "(596,972)", "(620,879)"], ["Interest income", "4,768", "7,446", "13,357", "15,262"], ["Interest expense", "(24,727)", "(809)", "(39,840)", "(1,565)"], ["Other income (expense), net", "3,575", "44,085", "(8,814)", "42,958"], ["Loss before income taxes", "(326,992)", "(254,096)", "(632,269)", "(564,224)"], ["Income tax benefit (expense)", "1,041", "(1,078)", "382", "(1,357)"], ["Net loss", "$ (325,951)", "$ (255,174)", "$ (631,887)", "$ (565,581)"], ["Basic", "$ (0.23)", "$ (0.19)", "$ (0.44)", "$ (0.42)"], ["Diluted", "$ (0.23)", "$ (0.19)", "$ (0.44)", "$ (0.42)"], ["Basic", "1,447,022", "1,362,544", "1,436,085", "1,350,763"], ["Diluted", "1,447,022", "1,362,544", "1,436,085", "1,350,763"]]}, {"headers": [["Consolidated Balance Sheets - USD ($) $ in Thousands", "Jun. 30, 2020", "Dec. 31, 2019"]], "sections": ["Current assets", "Current liabilities", "Stockholders\u2019 equity", "Stockholders\u2019 equity", "Stockholders\u2019 equity"], "data": [["Cash and cash equivalents", "$ 1,251,721", "$ 520,317"], ["Marketable securities", "1,577,848", "1,592,488"], ["Accounts receivable, net of allowance", "379,046", "492,194"], ["Prepaid expenses and other current assets", "49,734", "38,987"], ["Total current assets", "3,258,349", "2,643,986"], ["Property and equipment, net", "175,125", "173,667"], ["Operating lease right-of-use assets", "259,564", "275,447"], ["Intangible assets, net", "87,285", "92,121"], ["Goodwill", "775,185", "761,153"], ["Other assets", "148,521", "65,550"], ["Total assets", "4,704,029", "4,011,924"], ["Accounts payable", "58,618", "46,886"], ["Operating lease liabilities", "42,755", "42,179"], ["Accrued expenses and other current liabilities", "442,239", "410,610"], ["Total current liabilities", "543,612", "499,675"], ["Convertible senior notes, net", "1,625,743", "891,776"], ["Operating lease liabilities, noncurrent", "278,073", "303,178"], ["Other liabilities", "61,936", "57,382"], ["Total liabilities", "2,509,364", "1,752,011"], ["Commitments and contingencies (Note 8)", "", ""], ["Additional paid-in capital", "9,773,857", "9,205,256"], ["Accumulated other comprehensive income (loss)", "(609)", "573"], ["Accumulated deficit", "(7,578,597)", "(6,945,930)"], ["Total stockholders\u2019 equity", "2,194,665", "2,259,913"], ["Total liabilities and stockholders\u2019 equity", "4,704,029", "4,011,924"], ["Class A Non-voting Common Stock", "", ""], ["Common stock, value", "12", "12"], ["Class C Voting Common Stock", "", ""], ["Common stock, value", "$ 2", "$ 2"]]}, {"headers": [["Consolidated Statements of Stockholders' Equity - USD ($) shares in Thousands, $ in Thousands", "Total", "Additional Paid-in Capital", "Accumulated Deficit", "Accumulated Other Comprehensive Income (Loss)", "Class A Non-voting Common Stock", "Class A Non-voting Common Stock \nCommon Stock", "Class B Common Stock", "Class B Common Stock \nCommon Stock", "Class C Common Stock", "Class C Common Stock \nCommon Stock"]], "sections": [], "data": [["Balance, beginning of period, shares at Dec. 31, 2018", "", "", "", "", "", "999,304", "", "93,846", "", "224,611"], ["Balance, beginning of period at Dec. 31, 2018", "", "$ 8,220,417", "$ (5,912,578)", "$ 3,147", "", "$ 10", "", "$ 1", "", "$ 2"], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "1,724", "", "789", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "6,974", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "48,281", "", "291", "", ""], ["Issuance of Class A non-voting common stock in connection with acquisitions and divestitures", "", "6,913", "", "", "", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "47,344", "", "(47,344)", "", ""], ["Conversion of stock to voting/non-voting common stock", "", "", "", "", "", "$ 1", "", "$ (1)", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "3,303"], ["Stock-based compensation expense", "", "358,130", "", "", "", "", "", "", "", ""], ["Net loss", "$ (565,581)", "", "(565,581)", "", "$ (440,465)", "", "$ (22,440)", "", "$ (102,676)", ""], ["Other comprehensive income (loss), net of tax", "$ (1,045)", "", "", "(1,045)", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2019", "1,372,149", "", "", "", "", "1,096,653", "", "47,582", "", "227,914"], ["Balance, end of period at Jun. 30, 2019", "$ 2,116,698", "8,592,434", "(6,477,851)", "2,102", "", "$ 11", "", "", "", "$ 2"], ["Balance, beginning of period, shares at Mar. 31, 2019", "", "", "", "", "", "1,057,135", "", "51,510", "", "226,287"], ["Balance, beginning of period at Mar. 31, 2019", "", "8,388,608", "(6,222,677)", "(68)", "", "$ 11", "", "$ 1", "", "$ 2"], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "464", "", "139", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "1,339", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "34,899", "", "88", "", ""], ["Issuance of Class A non-voting common stock in connection with acquisitions and divestitures", "", "6,913", "", "", "", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "4,155", "", "(4,155)", "", ""], ["Conversion of stock to voting/non-voting common stock", "", "", "", "", "", "", "", "$ (1)", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "1,627"], ["Stock-based compensation expense", "", "195,574", "", "", "", "", "", "", "", ""], ["Net loss", "(255,174)", "", "(255,174)", "", "(200,295)", "", "(9,089)", "", "(45,790)", ""], ["Other comprehensive income (loss), net of tax", "$ 2,170", "", "", "2,170", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2019", "1,372,149", "", "", "", "", "1,096,653", "", "47,582", "", "227,914"], ["Balance, end of period at Jun. 30, 2019", "$ 2,116,698", "8,592,434", "(6,477,851)", "2,102", "", "$ 11", "", "", "", "$ 2"], ["Cumulative-effect adjustment from accounting changes", "", "", "308", "", "", "", "", "", "", ""], ["Balance, beginning of period, shares at Dec. 31, 2019", "", "", "", "", "", "1,160,127", "", "24,522", "", "231,147"], ["Balance, beginning of period at Dec. 31, 2019", "2,259,913", "9,205,256", "(6,945,930)", "573", "", "$ 12", "", "", "", "$ 2"], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "2,744", "", "393", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "23,608", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "41,386", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "700", "", "(700)", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "3,301"], ["Stock-based compensation expense", "", "358,404", "", "", "", "", "", "", "", ""], ["Equity component of convertible senior notes, net", "", "286,589", "", "", "", "", "", "", "", ""], ["Purchase of Capped Calls", "", "(100,000)", "", "", "", "", "", "", "", ""], ["Net loss", "(631,887)", "", "(631,887)", "", "(515,923)", "", "(10,692)", "", "(105,271)", ""], ["Other comprehensive income (loss), net of tax", "$ (1,182)", "", "", "(1,182)", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2020", "1,463,620", "", "", "", "", "1,204,957", "", "24,215", "", "234,448"], ["Balance, end of period at Jun. 30, 2020", "$ 2,194,665", "9,773,857", "(7,578,597)", "(609)", "", "$ 12", "", "", "", "$ 2"], ["Balance, beginning of period, shares at Mar. 31, 2020", "", "", "", "", "", "1,182,527", "", "24,279", "", "232,783"], ["Balance, beginning of period at Mar. 31, 2020", "", "9,380,435", "(7,252,646)", "(2,896)", "", "$ 12", "", "", "", "$ 2"], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "2,348", "", "391", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "20,478", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "19,627", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "455", "", "(455)", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "1,665"], ["Stock-based compensation expense", "", "186,355", "", "", "", "", "", "", "", ""], ["Equity component of convertible senior notes, net", "", "286,589", "", "", "", "", "", "", "", ""], ["Purchase of Capped Calls", "", "(100,000)", "", "", "", "", "", "", "", ""], ["Net loss", "(325,951)", "", "(325,951)", "", "$ (266,759)", "", "$ (5,462)", "", "$ (53,730)", ""], ["Other comprehensive income (loss), net of tax", "$ 2,287", "", "", "2,287", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2020", "1,463,620", "", "", "", "", "1,204,957", "", "24,215", "", "234,448"], ["Balance, end of period at Jun. 30, 2020", "$ 2,194,665", "$ 9,773,857", "(7,578,597)", "$ (609)", "", "$ 12", "", "", "", "$ 2"], ["Cumulative-effect adjustment from accounting changes", "", "", "$ (780)", "", "", "", "", "", "", ""]]}]