[{"headers": [["Consolidated Statements of Cash Flows - USD ($) $ in Thousands", "3 Months Ended", "9 Months Ended"], ["Sep. 30, 2020", "Sep. 30, 2019", "Sep. 30, 2020", "Sep. 30, 2019"]], "sections": ["Cash flows from operating activities", "Adjustments to reconcile net loss to net cash used in operating activities:", "Change in operating assets and liabilities, net of effect of acquisitions:", "Cash flows from investing activities", "Cash flows from financing activities", "Supplemental disclosures"], "data": [["Net loss", "$ (199,853)", "$ (227,375)", "$ (831,740)", "$ (792,956)"], ["Depreciation and amortization", "21,804", "20,646", "63,933", "66,625"], ["Stock-based compensation", "192,080", "161,228", "550,300", "519,358"], ["Deferred income taxes", "(1,186)", "170", "(3,698)", "195"], ["Gain on divestiture", "", "", "", "(39,883)"], ["Amortization of debt discount and issuance costs", "24,503", "6,412", "56,478", "6,412"], ["Other", "7,252", "(1,245)", "15,369", "(4,561)"], ["Accounts receivable, net of allowance", "(151,856)", "(62,855)", "(43,310)", "(30,736)"], ["Prepaid expenses and other current assets", "(10,608)", "(490)", "(19,352)", "(4,980)"], ["Operating lease right-of-use assets", "10,054", "35,633", "28,307", "57,254"], ["Other assets", "3,390", "2,139", "2,343", "4,540"], ["Accounts payable", "3,435", "4,220", "11,448", "28,319"], ["Accrued expenses and other current liabilities", "61,595", "23,243", "94,368", "16,655"], ["Operating lease liabilities", "(15,760)", "(36,008)", "(40,739)", "(63,259)"], ["Other liabilities", "322", "(1,867)", "1,194", "(1,099)"], ["Net cash used in operating activities", "(54,828)", "(76,149)", "(115,099)", "(238,116)"], ["Purchases of property and equipment", "(14,727)", "(7,938)", "(41,385)", "(27,385)"], ["Proceeds from divestiture, net", "", "", "", "73,796"], ["Non-marketable investments", "(3,500)", "(1,050)", "(95,341)", "(3,750)"], ["Cash paid for acquisitions, net of cash acquired", "(33,508)", "", "(53,712)", ""], ["Purchases of marketable securities", "(1,148,344)", "(1,115,358)", "(2,576,892)", "(1,924,398)"], ["Sales of marketable securities", "155,899", "24,948", "373,857", "102,437"], ["Maturities of marketable securities", "668,930", "411,079", "1,898,176", "1,193,739"], ["Other", "", "", "(500)", "1,029"], ["Net cash used in investing activities", "(375,250)", "(688,319)", "(495,797)", "(584,532)"], ["Proceeds from issuance of convertible notes, net of issuance costs", "", "1,251,848", "988,582", "1,251,848"], ["Purchase of capped calls", "", "(102,086)", "(100,000)", "(102,086)"], ["Proceeds from the exercise of stock options", "2,434", "7,788", "26,041", "14,726"], ["Net cash provided by financing activities", "2,434", "1,157,550", "914,623", "1,164,488"], ["Change in cash, cash equivalents, and restricted cash", "(427,644)", "393,082", "303,727", "341,840"], ["Cash, cash equivalents, and restricted cash, beginning of period", "1,252,631", "337,732", "521,260", "388,974"], ["Cash, cash equivalents, and restricted cash, end of period", "824,987", "730,814", "824,987", "730,814"], ["Cash paid for income taxes, net", "1,309", "643", "2,679", "564"], ["Cash paid for interest", "$ 5,113", "$ 380", "$ 10,378", "$ 1,176"]]}, {"headers": [["Consolidated Statements of Operations - USD ($) shares in Thousands, $ in Thousands", "3 Months Ended", "9 Months Ended"], ["Sep. 30, 2020", "Sep. 30, 2019", "Sep. 30, 2020", "Sep. 30, 2019"]], "sections": ["Income Statement [Abstract]", "Costs and expenses:", "Net loss per share attributable to Class A, Class B, and Class C common stockholders (Note 3):", "Weighted average shares used in computation of net loss per share:"], "data": [["Revenue", "$ 678,668", "$ 446,199", "$ 1,595,304", "$ 1,154,646"], ["Cost of revenue", "293,095", "223,140", "796,959", "642,399"], ["Research and development", "283,639", "211,599", "783,115", "663,983"], ["Sales and marketing", "143,511", "123,240", "397,834", "332,626"], ["General and administrative", "126,287", "117,073", "382,232", "365,370"], ["Total costs and expenses", "846,532", "675,052", "2,360,140", "2,004,378"], ["Operating loss", "(167,864)", "(228,853)", "(764,836)", "(849,732)"], ["Interest income", "2,801", "10,317", "16,158", "25,579"], ["Interest expense", "(28,212)", "(8,654)", "(68,052)", "(10,219)"], ["Other income (expense), net", "(5,669)", "(1,481)", "(14,483)", "41,477"], ["Loss before income taxes", "(198,944)", "(228,671)", "(831,213)", "(792,895)"], ["Income tax benefit (expense)", "(909)", "1,296", "(527)", "(61)"], ["Net loss", "$ (199,853)", "$ (227,375)", "$ (831,740)", "$ (792,956)"], ["Basic", "$ (0.14)", "$ (0.16)", "$ (0.58)", "$ (0.58)"], ["Diluted", "$ (0.14)", "$ (0.16)", "$ (0.58)", "$ (0.58)"], ["Basic", "1,466,420", "1,393,358", "1,446,040", "1,364,327"], ["Diluted", "1,466,420", "1,393,358", "1,446,040", "1,364,327"]]}, {"headers": [["Consolidated Balance Sheets - USD ($) $ in Thousands", "Sep. 30, 2020", "Dec. 31, 2019"]], "sections": ["Current assets", "Current liabilities", "Stockholders\u2019 equity", "Stockholders\u2019 equity", "Stockholders\u2019 equity"], "data": [["Cash and cash equivalents", "$ 824,070", "$ 520,317"], ["Marketable securities", "1,900,935", "1,592,488"], ["Accounts receivable, net of allowance", "529,872", "492,194"], ["Prepaid expenses and other current assets", "60,837", "38,987"], ["Total current assets", "3,315,714", "2,643,986"], ["Property and equipment, net", "175,199", "173,667"], ["Operating lease right-of-use assets", "269,141", "275,447"], ["Intangible assets, net", "91,796", "92,121"], ["Goodwill", "816,113", "761,153"], ["Other assets", "149,811", "65,550"], ["Total assets", "4,817,774", "4,011,924"], ["Accounts payable", "61,978", "46,886"], ["Operating lease liabilities", "40,994", "42,179"], ["Accrued expenses and other current liabilities", "507,134", "410,610"], ["Total current liabilities", "610,106", "499,675"], ["Convertible senior notes, net", "1,650,246", "891,776"], ["Operating lease liabilities, noncurrent", "287,105", "303,178"], ["Other liabilities", "71,546", "57,382"], ["Total liabilities", "2,619,003", "1,752,011"], ["Commitments and contingencies (Note 8)", "", ""], ["Additional paid-in capital", "9,968,707", "9,205,256"], ["Accumulated other comprehensive income (loss)", "8,499", "573"], ["Accumulated deficit", "(7,778,449)", "(6,945,930)"], ["Total stockholders\u2019 equity", "2,198,771", "2,259,913"], ["Total liabilities and stockholders\u2019 equity", "4,817,774", "4,011,924"], ["Class A Non-voting Common Stock", "", ""], ["Common stock, value", "12", "12"], ["Class C Voting Common Stock", "", ""], ["Common stock, value", "$ 2", "$ 2"]]}, {"headers": [["Consolidated Statements of Stockholders' Equity - USD ($) shares in Thousands, $ in Thousands", "Total", "Additional Paid-in Capital", "Accumulated Deficit", "Accumulated Deficit \nCumulative Effect, Period of Adoption, Adjustment", "Accumulated Other Comprehensive Income (Loss)", "Class A Non-voting Common Stock", "Class A Non-voting Common Stock \nCommon Stock", "Class B Common Stock", "Class B Common Stock \nCommon Stock", "Class C Common Stock", "Class C Common Stock \nCommon Stock", "Common Class B Stock Conversion from Class C Voting Common Stock \nCommon Stock"]], "sections": [], "data": [["Balance, beginning of period, shares at Dec. 31, 2018", "", "", "", "", "", "", "999,304", "", "93,846", "", "224,611", ""], ["Balance, beginning of period at Dec. 31, 2018", "", "$ 8,220,417", "$ (5,912,578)", "$ 308", "$ 3,147", "", "$ 10", "", "$ 1", "", "$ 2", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "3,024", "", "1,162", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "14,767", "", "", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "67,336", "", "300", "", "", ""], ["Issuance of Class A non-voting common stock in connection with acquisitions and divestitures", "", "6,913", "", "", "", "", "", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "63,251", "", "(63,251)", "", "", ""], ["Conversion of stock to voting/non-voting common stock", "", "", "", "", "", "", "$ 1", "", "$ (1)", "", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "", "4,953", ""], ["Stock-based compensation expense", "", "519,358", "", "", "", "", "", "", "", "", "", ""], ["Equity component of convertible senior notes, net", "", "377,432", "", "", "", "", "", "", "", "", "", ""], ["Purchase of Capped Calls", "", "(102,086)", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "$ (792,956)", "", "(792,956)", "", "", "$ (622,641)", "", "$ (28,223)", "", "$ (142,092)", "", ""], ["Other comprehensive income (loss), net of tax", "$ (10,320)", "", "", "", "(10,320)", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Sep. 30, 2019", "1,394,536", "", "", "", "", "", "1,132,915", "", "32,057", "", "229,564", ""], ["Balance, end of period at Sep. 30, 2019", "$ 2,324,415", "9,036,801", "(6,705,226)", "", "(7,173)", "", "$ 11", "", "", "", "$ 2", ""], ["Balance, beginning of period, shares at Jun. 30, 2019", "", "", "", "", "", "", "1,096,653", "", "47,582", "", "227,914", ""], ["Balance, beginning of period at Jun. 30, 2019", "", "8,592,434", "(6,477,851)", "", "2,102", "", "$ 11", "", "", "", "$ 2", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "1,300", "", "373", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "7,793", "", "", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "19,055", "", "9", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, net", "", "", "", "", "", "", "$ (1)", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "15,907", "", "(15,907)", "", "", ""], ["Conversion of stock to voting/non-voting common stock", "", "", "", "", "", "", "$ 1", "", "", "", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "", "1,650", ""], ["Stock-based compensation expense", "", "161,228", "", "", "", "", "", "", "", "", "", ""], ["Equity component of convertible senior notes, net", "", "377,432", "", "", "", "", "", "", "", "", "", ""], ["Purchase of Capped Calls", "", "(102,086)", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "(227,375)", "", "(227,375)", "", "", "(181,409)", "", "(6,308)", "", "(39,658)", "", ""], ["Other comprehensive income (loss), net of tax", "$ (9,275)", "", "", "", "(9,275)", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Sep. 30, 2019", "1,394,536", "", "", "", "", "", "1,132,915", "", "32,057", "", "229,564", ""], ["Balance, end of period at Sep. 30, 2019", "$ 2,324,415", "9,036,801", "(6,705,226)", "", "(7,173)", "", "$ 11", "", "", "", "$ 2", ""], ["Balance, beginning of period, shares at Dec. 31, 2019", "", "", "", "", "", "", "1,160,127", "", "24,522", "", "231,147", ""], ["Balance, beginning of period at Dec. 31, 2019", "2,259,913", "9,205,256", "(6,945,930)", "$ (779)", "573", "", "$ 12", "", "", "", "$ 2", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "3,036", "", "521", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "26,042", "", "", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "60,446", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "5,837", "", "(5,837)", "", "(4,437)", "4,437"], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "", "4,917", ""], ["Stock-based compensation expense", "", "550,820", "", "", "", "", "", "", "", "", "", ""], ["Equity component of convertible senior notes, net", "", "286,589", "", "", "", "", "", "", "", "", "", ""], ["Purchase of Capped Calls", "", "(100,000)", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "(831,740)", "", "(831,740)", "", "", "(680,951)", "", "(13,867)", "", "(136,922)", "", ""], ["Other comprehensive income (loss), net of tax", "$ 7,926", "", "", "", "7,926", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Sep. 30, 2020", "1,484,716", "", "", "", "", "", "1,229,446", "", "23,643", "", "231,627", ""], ["Balance, end of period at Sep. 30, 2020", "$ 2,198,771", "9,968,707", "(7,778,449)", "", "8,499", "", "$ 12", "", "", "", "$ 2", ""], ["Balance, beginning of period, shares at Jun. 30, 2020", "", "", "", "", "", "", "1,204,957", "", "24,215", "", "234,448", ""], ["Balance, beginning of period at Jun. 30, 2020", "", "9,773,857", "(7,578,597)", "", "(609)", "", "$ 12", "", "", "", "$ 2", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "292", "", "128", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "2,434", "", "", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "19,060", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "5,137", "", "(5,137)", "", "(4,437)", "4,437"], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "", "1,616", ""], ["Stock-based compensation expense", "", "192,416", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "(199,853)", "", "(199,852)", "", "", "$ (164,499)", "", "$ (3,234)", "", "$ (32,120)", "", ""], ["Other comprehensive income (loss), net of tax", "$ 9,108", "", "", "", "9,108", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Sep. 30, 2020", "1,484,716", "", "", "", "", "", "1,229,446", "", "23,643", "", "231,627", ""], ["Balance, end of period at Sep. 30, 2020", "$ 2,198,771", "$ 9,968,707", "$ (7,778,449)", "", "$ 8,499", "", "$ 12", "", "", "", "$ 2", ""]]}]