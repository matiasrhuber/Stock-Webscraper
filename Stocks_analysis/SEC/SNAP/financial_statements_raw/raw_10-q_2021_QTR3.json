[{"headers": [["Consolidated Statements of Cash Flows - USD ($) $ in Thousands", "3 Months Ended", "6 Months Ended"], ["Jun. 30, 2021", "Jun. 30, 2020", "Jun. 30, 2021", "Jun. 30, 2020"]], "sections": ["Cash flows from operating activities", "Adjustments to reconcile net loss to net cash provided by (used in) operating activities:", "Change in operating assets and liabilities, net of effect of acquisitions:", "Cash flows from investing activities", "Cash flows from financing activities", "Supplemental disclosures"], "data": [["Net loss", "$ (151,664)", "$ (325,951)", "$ (438,546)", "$ (631,887)"], ["Depreciation and amortization", "28,270", "20,925", "51,768", "42,129"], ["Stock-based compensation", "256,600", "186,171", "493,673", "358,220"], ["Amortization of debt discount and issuance costs", "1,148", "20,412", "2,192", "31,975"], ["Non-marketable investments", "(79,940)", "(3,019)", "(102,451)", "8,580"], ["Other", "34,856", "(1,406)", "41,685", "(2,975)"], ["Accounts receivable, net of allowance", "(174,452)", "15,654", "(45,136)", "108,546"], ["Prepaid expenses and other current assets", "1,065", "4,123", "(11,371)", "(8,744)"], ["Operating lease right-of-use assets", "12,549", "9,537", "23,747", "18,253"], ["Other assets", "(338)", "108", "(1,236)", "(1,047)"], ["Accounts payable", "(50,159)", "2,279", "6,346", "8,013"], ["Accrued expenses and other current liabilities", "27,690", "14,863", "33,039", "32,773"], ["Operating lease liabilities", "(8,059)", "(10,985)", "(21,354)", "(24,979)"], ["Other liabilities", "1,348", "735", "3,444", "872"], ["Net cash provided by (used in) operating activities", "(101,086)", "(66,554)", "35,800", "(60,271)"], ["Purchases of property and equipment", "(14,623)", "(15,767)", "(25,474)", "(26,658)"], ["Non-marketable investments", "(31,425)", "(56,341)", "(32,775)", "(91,841)"], ["Cash paid for acquisitions, net of cash acquired", "(30,304)", "(20,204)", "(139,216)", "(20,204)"], ["Purchases of marketable securities", "(764,371)", "(875,873)", "(1,287,590)", "(1,428,548)"], ["Sales of marketable securities", "239,500", "", "347,556", "217,958"], ["Maturities of marketable securities", "696,892", "476,561", "1,513,823", "1,229,246"], ["Other", "36,200", "(500)", "36,100", "(500)"], ["Net cash provided by (used in) investing activities", "131,869", "(492,124)", "412,424", "(120,547)"], ["Proceeds from issuance of convertible notes, net of issuance costs", "1,137,227", "988,582", "1,137,227", "988,582"], ["Purchase of capped calls", "(86,825)", "(100,000)", "(86,825)", "(100,000)"], ["Proceeds from the exercise of stock options", "3,257", "20,477", "7,710", "23,607"], ["Net cash provided by financing activities", "1,053,659", "909,059", "1,058,112", "912,189"], ["Change in cash, cash equivalents, and restricted cash", "1,084,442", "350,381", "1,506,336", "731,371"], ["Cash, cash equivalents, and restricted cash, beginning of period", "968,437", "902,250", "546,543", "521,260"], ["Cash, cash equivalents, and restricted cash, end of period", "2,052,879", "1,252,631", "2,052,879", "1,252,631"], ["Cash paid for income taxes, net", "3,280", "562", "14,288", "1,370"], ["Cash paid for interest", "$ 1,614", "$ 366", "$ 6,741", "$ 5,265"]]}, {"headers": [["Consolidated Statements of Operations - USD ($) shares in Thousands, $ in Thousands", "3 Months Ended", "6 Months Ended"], ["Jun. 30, 2021", "Jun. 30, 2020", "Jun. 30, 2021", "Jun. 30, 2020"]], "sections": ["Income Statement [Abstract]", "Costs and expenses:", "Net loss per share attributable to Class A, Class B, and Class C common stockholders (Note 3):", "Weighted average shares used in computation of net loss per share:"], "data": [["Revenue", "$ 982,108", "$ 454,158", "$ 1,751,692", "$ 916,636"], ["Cost of revenue", "445,021", "250,454", "857,622", "503,864"], ["Research and development", "370,671", "260,863", "719,251", "499,476"], ["Sales and marketing", "179,724", "132,118", "330,010", "254,323"], ["General and administrative", "179,204", "121,331", "340,927", "255,945"], ["Total costs and expenses", "1,174,620", "764,766", "2,247,810", "1,513,608"], ["Operating loss", "(192,512)", "(310,608)", "(496,118)", "(596,972)"], ["Interest income", "1,251", "4,768", "2,388", "13,357"], ["Interest expense", "(4,564)", "(24,727)", "(9,595)", "(39,840)"], ["Other income (expense), net", "42,282", "3,575", "64,340", "(8,814)"], ["Loss before income taxes", "(153,543)", "(326,992)", "(438,985)", "(632,269)"], ["Income tax benefit (expense)", "1,879", "1,041", "439", "382"], ["Net loss", "$ (151,664)", "$ (325,951)", "$ (438,546)", "$ (631,887)"], ["Basic", "$ (0.10)", "$ (0.23)", "$ (0.29)", "$ (0.44)"], ["Diluted", "$ (0.10)", "$ (0.23)", "$ (0.29)", "$ (0.44)"], ["Basic", "1,547,234", "1,447,022", "1,524,560", "1,436,085"], ["Diluted", "1,547,234", "1,447,022", "1,524,560", "1,436,085"]]}, {"headers": [["Consolidated Balance Sheets - USD ($) $ in Thousands", "Jun. 30, 2021", "Dec. 31, 2020"]], "sections": ["Current assets", "Current liabilities", "Stockholders\u2019 equity", "Stockholders\u2019 equity", "Stockholders\u2019 equity"], "data": [["Cash and cash equivalents", "$ 2,051,961", "$ 545,618"], ["Marketable securities", "1,415,384", "1,991,922"], ["Accounts receivable, net of allowance", "797,146", "744,288"], ["Prepaid expenses and other current assets", "72,468", "56,147"], ["Total current assets", "4,336,959", "3,337,975"], ["Property and equipment, net", "183,229", "178,709"], ["Operating lease right-of-use assets", "295,266", "269,728"], ["Intangible assets, net", "264,161", "105,929"], ["Goodwill", "1,453,766", "939,259"], ["Other assets", "287,434", "192,638"], ["Total assets", "6,820,815", "5,024,238"], ["Accounts payable", "79,089", "71,908"], ["Operating lease liabilities", "54,121", "41,077"], ["Accrued expenses and other current liabilities", "614,937", "554,342"], ["Total current liabilities", "748,147", "667,327"], ["Convertible senior notes, net", "2,550,829", "1,675,169"], ["Operating lease liabilities, noncurrent", "301,580", "287,292"], ["Other liabilities", "312,258", "64,474"], ["Total liabilities", "3,912,814", "2,694,262"], ["Commitments and contingencies (Note 8)", "", ""], ["Additional paid-in capital", "11,129,196", "10,200,141"], ["Accumulated other comprehensive income (loss)", "13,847", "21,363"], ["Accumulated deficit", "(8,235,057)", "(7,891,542)"], ["Total stockholders\u2019 equity", "2,908,001", "2,329,976"], ["Total liabilities and stockholders\u2019 equity", "6,820,815", "5,024,238"], ["Class A Non-voting Common Stock", "", ""], ["Common stock, value", "13", "12"], ["Class C Voting Common Stock", "", ""], ["Common stock, value", "$ 2", "$ 2"]]}, {"headers": [["Consolidated Statements of Stockholders' Equity - USD ($) shares in Thousands, $ in Thousands", "Total", "Additional Paid-in Capital", "Additional Paid-in Capital \nCumulative Effect, Period of Adoption, Adjustment", "Accumulated Deficit", "Accumulated Deficit \nCumulative Effect, Period of Adoption, Adjustment", "Accumulated Other Comprehensive Income (Loss)", "Class A Non-voting Common Stock", "Class A Non-voting Common Stock \nCommon Stock", "Class A Non-voting Common Stock \nAdditional Paid-in Capital", "Class B Common Stock", "Class B Common Stock \nCommon Stock", "Class C Common Stock", "Class C Common Stock \nCommon Stock"]], "sections": [], "data": [["Balance, beginning of period, shares at Dec. 31, 2019", "", "", "", "", "", "", "", "1,160,127", "", "", "24,522", "", "231,147"], ["Balance, beginning of period at Dec. 31, 2019", "", "$ 9,205,256", "", "$ (6,945,930)", "$ (780)", "$ 573", "", "$ 12", "", "", "", "", "$ 2"], ["Stock-based compensation expense", "", "358,404", "", "", "", "", "", "", "", "", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "", "2,744", "", "", "393", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "23,608", "", "", "", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "", "41,386", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "", "700", "", "", "(700)", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "", "", "", "3,301"], ["Equity component of convertible senior notes, net", "", "286,589", "", "", "", "", "", "", "", "", "", "", ""], ["Purchase of capped calls", "", "(100,000)", "", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "$ (631,887)", "", "", "(631,887)", "", "", "$ (515,923)", "", "", "$ (10,692)", "", "$ (105,271)", ""], ["Other comprehensive income (loss), net of tax", "$ (1,182)", "", "", "", "", "(1,182)", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2020", "1,463,620", "", "", "", "", "", "", "1,204,957", "", "", "24,215", "", "234,448"], ["Balance, end of period at Jun. 30, 2020", "$ 2,194,665", "9,773,857", "", "(7,578,597)", "", "(609)", "", "$ 12", "", "", "", "", "$ 2"], ["Balance, beginning of period, shares at Mar. 31, 2020", "", "", "", "", "", "", "", "1,182,527", "", "", "24,279", "", "232,783"], ["Balance, beginning of period at Mar. 31, 2020", "", "9,380,435", "", "(7,252,646)", "", "(2,896)", "", "$ 12", "", "", "", "", "$ 2"], ["Stock-based compensation expense", "", "186,355", "", "", "", "", "", "", "", "", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "", "2,348", "", "", "391", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "20,478", "", "", "", "", "", "", "", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "", "19,627", "", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "", "455", "", "", "(455)", "", ""], ["Issuance of Class C voting common stock for settlement of restricted stock awards net, Shares", "", "", "", "", "", "", "", "", "", "", "", "", "1,665"], ["Equity component of convertible senior notes, net", "", "286,589", "", "", "", "", "", "", "", "", "", "", ""], ["Purchase of capped calls", "", "(100,000)", "", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "(325,951)", "", "", "(325,951)", "", "", "(266,759)", "", "", "(5,462)", "", "(53,730)", ""], ["Other comprehensive income (loss), net of tax", "$ 2,287", "", "", "", "", "2,287", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2020", "1,463,620", "", "", "", "", "", "", "1,204,957", "", "", "24,215", "", "234,448"], ["Balance, end of period at Jun. 30, 2020", "$ 2,194,665", "9,773,857", "", "(7,578,597)", "", "(609)", "", "$ 12", "", "", "", "", "$ 2"], ["Balance, beginning of period, shares at Dec. 31, 2020", "", "", "", "", "", "", "", "1,248,010", "", "", "23,696", "", "231,627"], ["Balance, beginning of period at Dec. 31, 2020", "2,329,976", "10,200,141", "$ (664,021)", "(7,891,542)", "$ 95,031", "21,363", "", "$ 12", "", "", "", "", "$ 2"], ["Stock-based compensation expense", "", "493,004", "", "", "", "", "", "", "", "", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "", "548", "", "", "8", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "7,710", "", "", "", "", "", "", "", "", "", "", ""], ["Issuance of non-voting common stock in connection with acquisitions , shares", "", "", "", "", "", "", "", "5,733", "", "", "", "", ""], ["Issuance of non-voting common stock in connection with acquisitions", "", "", "", "", "", "", "", "", "$ 308,636", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "", "28,724", "", "", "", "", ""], ["Issuance of non-voting common stock for vesting of restricted stock units and restricted stock awards, net", "", "", "", "", "", "", "", "$ 1", "", "", "", "", ""], ["Issuance of non-voting common stock for the induced conversion related to convertible senior notes, shares", "", "", "", "", "", "", "", "38,398", "", "", "", "", ""], ["Issuance of non-voting common stock for the induced conversion related to convertible senior notes", "", "", "", "", "", "", "", "", "870,551", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "", "64", "", "", "(64)", "", ""], ["Purchase of capped calls", "", "(86,825)", "", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "(438,546)", "", "", "(438,546)", "", "", "(365,112)", "", "", "(6,805)", "", "(66,629)", ""], ["Other comprehensive income (loss), net of tax", "$ (7,516)", "", "", "", "", "(7,516)", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2021", "1,576,744", "", "", "", "", "", "", "1,321,477", "", "", "23,640", "", "231,627"], ["Balance, end of period at Jun. 30, 2021", "$ 2,908,001", "11,129,196", "", "(8,235,057)", "", "13,847", "", "$ 13", "", "", "", "", "$ 2"], ["Balance, beginning of period, shares at Mar. 31, 2021", "", "", "", "", "", "", "", "1,263,733", "", "", "23,640", "", "231,627"], ["Balance, beginning of period at Mar. 31, 2021", "", "9,777,646", "", "(8,083,393)", "", "11,910", "", "$ 13", "", "", "", "", "$ 2"], ["Stock-based compensation expense", "", "255,931", "", "", "", "", "", "", "", "", "", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans, shares", "", "", "", "", "", "", "", "235", "", "", "3", "", ""], ["Shares issued in connection with exercise of stock options under stock-based compensation plans", "", "3,257", "", "", "", "", "", "", "", "", "", "", ""], ["Issuance of non-voting common stock in connection with acquisitions , shares", "", "", "", "", "", "", "", "5,733", "", "", "", "", ""], ["Issuance of non-voting common stock in connection with acquisitions", "", "", "", "", "", "", "", "", "308,636", "", "", "", ""], ["Issuance of voting/non-voting common stock for vesting of restricted stock units and restricted stock awards, shares", "", "", "", "", "", "", "", "13,375", "", "", "", "", ""], ["Issuance of non-voting common stock for the induced conversion related to convertible senior notes, shares", "", "", "", "", "", "", "", "38,398", "", "", "", "", ""], ["Issuance of non-voting common stock for the induced conversion related to convertible senior notes", "", "", "", "", "", "", "", "", "$ 870,551", "", "", "", ""], ["Conversion of stock to voting/non-voting common stock, shares", "", "", "", "", "", "", "", "3", "", "", "(3)", "", ""], ["Purchase of capped calls", "", "(86,825)", "", "", "", "", "", "", "", "", "", "", ""], ["Net loss", "(151,664)", "", "", "(151,664)", "", "", "$ (126,642)", "", "", "$ (2,317)", "", "$ (22,705)", ""], ["Other comprehensive income (loss), net of tax", "$ 1,937", "", "", "", "", "1,937", "", "", "", "", "", "", ""], ["Balance, end of period, shares at Jun. 30, 2021", "1,576,744", "", "", "", "", "", "", "1,321,477", "", "", "23,640", "", "231,627"], ["Balance, end of period at Jun. 30, 2021", "$ 2,908,001", "$ 11,129,196", "", "$ (8,235,057)", "", "$ 13,847", "", "$ 13", "", "", "", "", "$ 2"]]}]